{"version":3,"sources":["firebase.js","Mclaren Senna.jpg","Post.js","CircularProgresswithLabel.js","ImageUpload.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post","props","useState","open","setOpen","anchorRef","useRef","handleDelete","event","current","contains","target","collection","onSnapshot","snapshot","data","docs","map","doc","id","post","index","length","postId","username","name","delete","handleClose","handleListKeyDown","key","preventDefault","prevOpen","React","useEffect","focus","className","Avatar","alt","src","avatarImg","IconButton","ref","aria-controls","undefined","aria-haspopup","onClick","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","image_url","Caption","CircularProgressWithLabel","Box","position","display","CircularProgress","variant","top","left","bottom","right","alignItems","justifyContent","Typography","component","color","Math","round","value","ImageUpload","image","setImage","progress","setProgress","caption","setCaption","type","onChange","files","CircularProgresswithLabel","placeholder","Button","put","on","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","then","url","add","timestamp","FieldValue","serverTimestamp","imageUrl","useStyles","makeStyles","theme","paper","marginLeft","marginTop","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","paper2","App","classes","posts","setPosts","openSignIn","setOpenSignIn","openPost","setOpenPost","setUsername","email","setEmail","password","setPassword","user","setUser","unsubscribe","onAuthStateChanged","authUser","orderBy","Modal","onClose","Input","createUserWithEmailAndPassword","updateProfile","displayName","catch","signInWithEmailAndPassword","signOut","size","fontSize","cursor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bf9772f8.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyDvG2Rp1VY_6_FLNU-K-EMiSPlUihDduBo\",\r\n    authDomain: \"instagram-clone-9ffaa.firebaseapp.com\",\r\n    projectId: \"instagram-clone-9ffaa\",\r\n    storageBucket: \"instagram-clone-9ffaa.appspot.com\",\r\n    messagingSenderId: \"251776803306\",\r\n    appId: \"1:251776803306:web:043191b6733790bba99293\",\r\n    measurementId: \"G-BVRR5X0CBJ\"\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db, auth, storage };","export default __webpack_public_path__ + \"static/media/Mclaren Senna.89c47dc3.jpg\";","import React, { useRef, useState } from 'react'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { ClickAwayListener, Grow, IconButton, MenuItem, MenuList, Paper, Popper } from '@material-ui/core';\r\nimport avatarImg from './Mclaren Senna.jpg';\r\nimport './Post.css';\r\nimport { db } from './firebase';\r\n\r\nconst Post = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const anchorRef = useRef(null);\r\n\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleDelete = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n\r\n        db.collection('posts').onSnapshot(snapshot => {\r\n            const data = snapshot.docs.map(doc => ({ id: doc.id, post: doc.data() }));\r\n            for (let index = 0; index < data.length; index++) {\r\n                if (data[index].id === props.postId && data[index].post.username === props.name) {\r\n                    db.collection('posts').doc(props.postId).delete();\r\n                }\r\n            }\r\n        });\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    function handleListKeyDown(event) {\r\n        if (event.key === 'Tab') {\r\n            event.preventDefault();\r\n            setOpen(false);\r\n        }\r\n    }\r\n\r\n    // return focus to the button when we transitioned from !open -> open\r\n    const prevOpen = React.useRef(open);\r\n    React.useEffect(() => {\r\n        if (prevOpen.current === true && open === false) {\r\n            anchorRef.current.focus();\r\n        }\r\n\r\n        prevOpen.current = open;\r\n    }, [open]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"post\">\r\n                <div className=\"post_header\">\r\n                    <Avatar className=\"post_avatar\" alt=\"Neh Jain\" src={avatarImg} />\r\n                    <h3 className=\"post_username\">{props.name}</h3>\r\n                    <IconButton className=\"vert_icon\" ref={anchorRef} aria-controls={open ? 'menu-list-grow' : undefined} aria-haspopup=\"true\" onClick={handleToggle} >\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                    <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n                        {({ TransitionProps, placement }) => (\r\n                            <Grow {...TransitionProps} style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }} >\r\n                                <Paper>\r\n                                    <ClickAwayListener onClickAway={handleClose}>\r\n                                        <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                                            <MenuItem onClick={handleClose}>Edit</MenuItem>\r\n                                            <MenuItem onClick={handleDelete}>Delete</MenuItem>\r\n                                        </MenuList>\r\n                                    </ClickAwayListener>\r\n                                </Paper>\r\n                            </Grow>\r\n                        )}\r\n                    </Popper>\r\n                </div>\r\n                <img className=\"post_image\" src={props.image_url} alt=\"\" />\r\n                <h4 className=\"post_text\"><strong>{props.name}</strong> {props.Caption}</h4>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Post;","import { Box, CircularProgress, Typography } from \"@material-ui/core\";\r\n\r\nconst CircularProgressWithLabel = (props) => {\r\n    return (\r\n        <Box position=\"relative\" display=\"inline-flex\">\r\n            <CircularProgress variant=\"determinate\" {...props} />\r\n            <Box\r\n                top={0}\r\n                left={0}\r\n                bottom={0}\r\n                right={0}\r\n                position=\"absolute\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n            >\r\n                <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\r\n                    {`${Math.round(props.value,)}%`}\r\n                </Typography>\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default CircularProgressWithLabel;","import { Button } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport firebase from 'firebase';\r\nimport { db, storage } from \"./firebase\";\r\nimport CircularProgresswithLabel from \"./CircularProgresswithLabel\";\r\n\r\nconst ImageUpload = (props) => {\r\n\r\n    const [image, setImage] = useState(null);\r\n    const [progress, setProgress] = useState(0);\r\n    const [caption, setCaption] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        if (event.target.files[0]) {\r\n            setImage(event.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleUpload = () => {\r\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => {\r\n                //progress function\r\n                const progress = Math.round(\r\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n                );\r\n                setProgress(progress);\r\n            },\r\n            (error) => {\r\n                //Error Function\r\n                alert(error.message);\r\n            },\r\n            () => {\r\n                //Complete function\r\n                storage.ref(\"images\")\r\n                    .child(image.name)\r\n                    .getDownloadURL()\r\n                    .then(url => {\r\n                        //posts image to db\r\n                        db.collection(\"posts\").add({\r\n                            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                            caption: caption,\r\n                            imageUrl: url,\r\n                            username: props.username\r\n                        });\r\n\r\n                        setProgress(0);\r\n                        setCaption(\"\");\r\n                        setImage(null);\r\n                    });\r\n            }\r\n        )\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"set_post\">\r\n                <div>\r\n                    <input type=\"file\" onChange={handleChange} />\r\n                    {\r\n                        progress ? (\r\n                            <CircularProgresswithLabel value={progress} />\r\n                        ) : (\r\n                            <>\r\n\r\n                            </>\r\n                        )\r\n                    }\r\n                </div>\r\n                <br/>\r\n                <input type=\"text\" placeholder=\"Add a caption...\" value={caption} onChange={event => setCaption(event.target.value)} /><br />\r\n                <Button onClick={handleUpload} >Upload</Button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ImageUpload;","import { Button, Input, makeStyles, Modal } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { auth, db } from './firebase';\r\nimport Post from './Post';\r\nimport ImageUpload from './ImageUpload';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        top: \"50vh\",\r\n        left: \"50vw\",\r\n        marginLeft: \"-125px\",\r\n        marginTop: \"-150px\",\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3)\r\n    },\r\n    paper2: {\r\n        position: 'absolute',\r\n        top: \"50vh\",\r\n        left: \"50vw\",\r\n        marginLeft: \"-165px\",\r\n        marginTop: \"-125px\",\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3)\r\n    }\r\n}));\r\n\r\nconst App = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [posts, setPosts] = useState([{\r\n        id: \"\",\r\n        post: {}\r\n    }]);\r\n    const [open, setOpen] = useState(false);\r\n    const [openSignIn, setOpenSignIn] = useState(false);\r\n    const [openPost, setOpenPost] = useState(false);\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((authUser) => {\r\n            if (authUser) {\r\n                // user has logged in\r\n                setUser(authUser)\r\n            }\r\n            else {\r\n                // user has logged out\r\n                setUser(null);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        db.collection('posts').orderBy(\"timestamp\", \"desc\").onSnapshot(snapshot => {\r\n            setPosts(snapshot.docs.map(doc => ({ id: doc.id, post: doc.data() })));\r\n        });\r\n    }, []);\r\n\r\n    const signUp = (event) => {\r\n        event.preventDefault();\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n            .then((authUser) => {\r\n                return authUser.user.updateProfile({\r\n                    displayName: username\r\n                })\r\n            })\r\n            .catch((error) => alert(error.message));\r\n        setOpen(false);\r\n    };\r\n\r\n    const login = (event) => {\r\n        event.preventDefault();\r\n        auth.signInWithEmailAndPassword(email, password)\r\n            .catch((error) => alert(error.message));\r\n        setOpenSignIn(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Sign Up */}\r\n            <Modal open={open} onClose={() => setOpen(false)}>\r\n                <div className={classes.paper}>\r\n                    <form>\r\n                        <center>\r\n                            <h2>Sign Up</h2><br />\r\n                        </center>\r\n                        <Input placeholder=\"Username\" type=\"text\" value={username} onChange={(event) => setUsername(event.target.value)} /><br /><br />\r\n                        <Input placeholder=\"Email\" type=\"text\" value={email} onChange={(event) => setEmail(event.target.value)} /><br /><br />\r\n                        <Input placeholder=\"Password\" type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} /><br /><br />\r\n                        <center>\r\n                            <Button type=\"submit\" onClick={signUp} >Sign Up</Button>\r\n                        </center>\r\n                    </form>\r\n                </div>\r\n            </Modal>\r\n\r\n            {/* Log In */}\r\n            <Modal open={openSignIn} onClose={() => setOpenSignIn(false)}>\r\n                <div className={classes.paper}>\r\n                    <form>\r\n                        <center>\r\n                            <h2>Login</h2><br />\r\n                        </center>\r\n                        <Input placeholder=\"Email\" type=\"text\" value={email} onChange={(event) => setEmail(event.target.value)} /><br /><br />\r\n                        <Input placeholder=\"Password\" type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} /><br /><br />\r\n                        <center>\r\n                            <Button type=\"submit\" onClick={login} >Log In</Button>\r\n                        </center>\r\n                    </form>\r\n                </div>\r\n            </Modal>\r\n\r\n            {/* Add Post */}\r\n            <Modal open={openPost} onClose={() => setOpenPost(false)}>\r\n                <div className={classes.paper2}>\r\n                    <ImageUpload username={user?.displayName} />\r\n                </div>\r\n            </Modal>\r\n\r\n            {/* Header */}\r\n            <div className=\"app_header\">\r\n                <img className=\"app_headerImage\" src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"Instagram\" />\r\n                {\r\n                    user ? (\r\n                        <Button className=\"btn\" variant=\"outlined\" color=\"primary\" onClick={() => auth.signOut()}>Logout</Button>\r\n                    ) : (\r\n                        <>\r\n                            <Button className=\"btn\" variant=\"outlined\" color=\"primary\" onClick={() => setOpenSignIn(true)}>Log In</Button>\r\n                            <Button className=\"btn\" variant=\"outlined\" color=\"primary\" onClick={() => setOpen(true)}>Sign Up</Button>\r\n                        </>\r\n                    )\r\n                }\r\n            </div>\r\n\r\n            {/* Posts */}\r\n            <center>\r\n                {\r\n                    posts.map((value) => {\r\n                        return (\r\n                            <Post key={value.id} postId={value.id} Caption={value.post.caption} image_url={value.post.imageUrl} name={value.post.username} />\r\n                        );\r\n                    })\r\n                }\r\n            </center>\r\n\r\n            {/* upload */}\r\n            <div className=\"upload\">\r\n                {\r\n                    user?.displayName ? (\r\n                        <>\r\n                            <Button className=\"upload_button\" onClick={() => setOpenPost(true)} size=\"large\">\r\n                                <AddBoxIcon color=\"primary\" fontSize=\"large\" cursor=\"pointer\" />\r\n                            </Button>\r\n                        </>\r\n                    ) : (\r\n                        <h3>Login to Upload</h3>\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <>\n    <App/>\n  </>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}